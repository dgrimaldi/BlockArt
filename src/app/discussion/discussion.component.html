<main role="main" class="container discussion-page">
  <div class="d-flex align-items-center p-3 my-3 rounded shadow-sm" style="background-color: whitesmoke">
    <a class="justify-content-lg-start col">{{discussionTitle}}</a>
    <a class="justify-content-end ">These are of your remaining votes{{this.reamingVote}} </a>
  </div>

  <div class="my-3 p-3 bg-white rounded shadow-sm" *ngFor="let comment of comments | async; let i = index">
    <h6 class="border-bottom border-gray pb-2 mb-0">{{comment.title}}</h6>
    <div class="media text-muted pt-3">
      <ul style="padding-left: 0; margin-right: 4%">
        <svg style="margin-left: 25%" class="bd-placeholder-img mr-2 rounded" width="32" height="32"
             xmlns="http://www.w3.org/2000/svg"
             preserveAspectRatio="xMidYMid slice" focusable="false" role="img" aria-label="Placeholder: 32x32"><title>
          Placeholder</title>
          <rect style="padding-left: 4%" width="100%" height="100%" fill="#007bff"/>
          <text x="50%" y="50%" fill="#007bff" dy=".3em">32x32</text>
        </svg>
        <p class="mb-0 small" style="padding-left: 13%">{{comment.username}}</p>
      </ul>
      <p style="padding-left: 2%" class="media-body pb-3 mb-0 small lh-125 border-bottom border-gray">
        {{comment.content}}
      </p>
    </div>
    <div class="nav-scroller bg-white shadow-sm row" style="margin: 0% 0.8% 0% 0.8%">
      <ul class="nav col-sm-8">
        <li class="nav-item"><a class="nav-link" href="#">Explore</a>
        </li>
        <li class="nav-item"><a class="nav-link" href="#">Suggestions</a>
        </li>
      </ul>
      <ul class="nav justify-content-end col-sm-4">
        <li class="nav-item"><a class="nav-link" (click)="onAddVote(comment, true, i)">
          Like
          <span class="badge badge-pill bg-light align-text-bottom">{{comment.numPosRecVote}}</span>
        </a>
        </li>
        <li class="nav-item"><a class="nav-link" (click)="onAddVote(comment, false, i)">
          UnLike
          <span class="badge badge-pill bg-light align-text-bottom">{{comment.numNegRecVote}}</span>
        </a>
        </li>
      </ul>
    </div>
  </div>

  <div class="my-3 p-3 bg-white rounded shadow-sm">
    <h6 class="border-bottom border-gray pb-2 mb-0">Add Comment</h6>
    <form class="my-3 p-3 " [formGroup]="addCommentForm" (ngSubmit)="onSubmit(addCommentForm.value)">
      <label>
        <input formControlName="title" placeholder="Title" type="text" class="col-sm-11">
      </label>

      <textarea class="col-sm-12" type="text" rows="5" cols="80"
                formControlName="content" placeholder="Add the content"></textarea>
      <br>
      <button class="col-sm-1 justify-content-end" type="submit">Add</button>
    </form>
  </div>
  <div class="d-flex align-items-center p-3 my-3 rounded shadow-sm" style="background-color: whitesmoke">
    <a class="justify-content-lg-start">The Participant are:</a> &nbsp;
    <a *ngFor="let participant of participants | async" > {{participant.username}} ({{participant.percentage}})&nbsp;</a>
  </div>
</main>
